webpackJsonp([1],{"7y55":function(e,t){},M5KW:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("7+uW"),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},l,!1,function(e){a("M5KW")},null,null).exports,i=a("/ocq"),s=a("mtWM"),o=a.n(s),c={props:{dataList:Array},data:function(){return{}},methods:{close:function(){this.$emit("changeState")}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"data-page"},[a("el-button",{staticClass:"close fl",attrs:{type:"warning"},on:{click:e.close}},[e._v("关闭页面")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.dataList,border:""}},[a("el-table-column",{attrs:{"align-header":"center",width:"180",align:"center",prop:"url",label:"推广链接"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"qudao",label:"渠道名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"platform",label:"小说平台",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"fuwuhao",label:"服务号名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"pv",label:"百度pv"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"uv",label:"百度uv"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"yuedu",label:"累计阅读人数"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"count_order",label:"订单数量"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"count_pay",label:"付款数量"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"money",label:"累计充值金额"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"cost",label:"成本"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"back",label:"回本率"}})],1)],1)},staticRenderFns:[]};var m={components:{dataPage:a("VU/8")(c,u,!1,function(e){a("qUt6")},"data-v-b2747b7e",null).exports},data:function(){return{statisticsLinks:[],linkForm:{},payForm:{},createLink:!1,createPay:!1,dataShow:!1,options:[{value:6,label:"袋鼠"}],dataList:[{qudao:"11212"}]}},mounted:function(){this.linksShow()},methods:{linksShow:function(){var e=this;o()({url:"/link",method:"get"}).then(function(t){e.statisticsLinks=t.data.data})},addLink:function(){this.createLink=!0},editPay:function(e){this.createPay=!0,this.payForm.url=e.url},viewData:function(e){var t=this;o()({url:"/tongji",method:"get",params:{url:e.url}}).then(function(e){t.dataList=e.data.data,t.dataShow=!0})},deleteLink:function(e,t){var a=this;o()({url:"/link/del",method:"get",params:{id:e._id}}).then(function(e){e.data.success&&(a.$message({type:"success",message:e.data.success}),a.statisticsLinks.splice(t,1))})},submitLinkForm:function(){var e=this;o()({url:"/link/create",method:"post",data:this.linkForm}).then(function(t){console.log(t.data),t.data.success&&(e.$message({type:"success",message:t.data.success}),e.linkForm={},e.statisticsLinks.push(t.data.data),e.createLink=!1)})},cancelLinkForm:function(){this.linkForm={},this.createLink=!1},changeLinkDate:function(){var e=new Date(this.linkForm.createtime).getTime();this.linkForm.createtime=e},changePayDate:function(){var e=new Date(this.payForm.createtime).getTime();this.payForm.createtime=e},submitPayForm:function(){var e=this,t=this.timestamp_date(this.payForm.createtime);this.payForm.createtime=t,o()({url:"/cost/create",method:"post",data:this.payForm}).then(function(t){t.data.success&&(e.$message({type:"success",message:t.data.data}),e.payForm={},e.createPay=!1)})},cancelPayForm:function(){this.payForm={},this.createPay=!1},timestamp_date:function(e){var t=new Date(e),a=t.getMinutes(),n=15*parseInt(a/15);return t.setMinutes(n,0,0)},changeState:function(){this.dataShow=!1}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"index-page"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!e.createLink&&!e.createPay&&!e.dataShow,expression:"!createLink && !createPay && !dataShow"}],staticClass:"links"},[a("el-button",{staticClass:"create-link fr",attrs:{type:"success"},on:{click:e.addLink}},[e._v("新建统计链接")]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.statisticsLinks,border:""}},[a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"createtime",label:"日期",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"qudao",label:"渠道名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"fuwuhao",label:"服务号名称",width:"100"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"platform",label:"小说平台",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                    "+e._s(0==t.row.platform?"推锐":1==t.row.platform?"点锐":2==t.row.platform?"要琪":3==t.row.platform?"一飞":4==t.row.platform?"无忧":5==t.row.platform?"有盟":"袋鼠")+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"url",label:"推广链接"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",prop:"out_url",label:"落地页链接"}}),e._v(" "),a("el-table-column",{attrs:{"align-header":"center",align:"center",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){e.editPay(t.row)}}},[e._v("输入成本")]),e._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(a){e.viewData(t.row)}}},[e._v("查看统计数据")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteLink(t.row,t.$index)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.createLink,expression:"createLink"}],staticClass:"create-page"},[a("el-form",{attrs:{model:e.linkForm,"label-width":"160px",size:"small"}},[a("el-form-item",{attrs:{label:"创建统计链接的时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.changeLinkDate},model:{value:e.linkForm.createtime,callback:function(t){e.$set(e.linkForm,"createtime",t)},expression:"linkForm.createtime"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"选择小说平台"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.linkForm.platform,callback:function(t){e.$set(e.linkForm,"platform",t)},expression:"linkForm.platform"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"小说平台的推广链接"}},[a("el-input",{staticClass:"inputtxt",model:{value:e.linkForm.url,callback:function(t){e.$set(e.linkForm,"url",t)},expression:"linkForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"微信外的落地页链接"}},[a("el-input",{staticClass:"inputtxt",model:{value:e.linkForm.out_url,callback:function(t){e.$set(e.linkForm,"out_url",t)},expression:"linkForm.out_url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"渠道名称"}},[a("el-input",{staticClass:"inputtxt",model:{value:e.linkForm.qudao,callback:function(t){e.$set(e.linkForm,"qudao",t)},expression:"linkForm.qudao"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"服务号名称"}},[a("el-input",{staticClass:"inputtxt",model:{value:e.linkForm.fuwuhao,callback:function(t){e.$set(e.linkForm,"fuwuhao",t)},expression:"linkForm.fuwuhao"}})],1)],1),e._v(" "),a("div",{staticClass:"btn-container"},[a("el-button",{attrs:{type:"success"},on:{click:e.submitLinkForm}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.cancelLinkForm}},[e._v("取消")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.createPay,expression:"createPay"}],staticClass:"pay-page create-page"},[a("el-form",{attrs:{model:e.payForm,"label-width":"160px",size:"small"}},[a("el-form-item",{attrs:{label:"推广链接(不用填)"}},[a("el-input",{staticClass:"inputtxt",attrs:{disabled:""},model:{value:e.payForm.url,callback:function(t){e.$set(e.payForm,"url",t)},expression:"payForm.url"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"总成本"}},[a("el-input",{staticClass:"inputtxt",model:{value:e.payForm.cost,callback:function(t){e.$set(e.payForm,"cost",t)},expression:"payForm.cost"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"记录成本时间"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间"},on:{change:e.changePayDate},model:{value:e.payForm.createtime,callback:function(t){e.$set(e.payForm,"createtime",t)},expression:"payForm.createtime"}})],1)],1),e._v(" "),a("div",{staticClass:"btn-container"},[a("el-button",{attrs:{type:"success"},on:{click:e.submitPayForm}},[e._v("提交")]),e._v(" "),a("el-button",{attrs:{type:"info"},on:{click:e.cancelPayForm}},[e._v("取消")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.dataShow,expression:"dataShow"}],staticClass:"data-page"},[a("data-page",{attrs:{dataList:e.dataList},on:{changeState:e.changeState}})],1)])},staticRenderFns:[]};var d=a("VU/8")(m,p,!1,function(e){a("7y55")},"data-v-bc7f98a8",null).exports;n.default.use(i.a);var h=new i.a({mode:"history",routes:[{path:"/",name:"indexPage",component:d}]}),v=a("zL8q"),f=a.n(v);a("tvR6");n.default.config.productionTip=!1,n.default.use(f.a),new n.default({el:"#app",router:h,components:{Home:r},template:"<Home/>"})},qUt6:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.ed306dc04ef27d818f25.js.map