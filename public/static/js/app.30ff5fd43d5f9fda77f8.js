webpackJsonp([1],{"+skl":function(t,e){},MvsD:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("7+uW"),a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("Menu",{attrs:{mode:"horizontal",theme:"light","active-name":"1"}},[e("MenuItem",{attrs:{name:"1"}},[e("Icon",{attrs:{type:"ios-paper"}}),this._v("\n            平台数据\n        ")],1),this._v(" "),e("MenuItem",{attrs:{name:"2"}},[e("Icon",{attrs:{type:"ios-people"}}),this._v("\n            消耗数据\n        ")],1)],1),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var o=i("VU/8")({name:"App"},a,!1,function(t){i("MvsD")},null,null).exports,r=i("/ocq"),s={data:function(){var t=this;return{dialogModal:!1,isLoading:!0,indexData:[],indexHeader:[{title:"时间",key:"createtime",width:150,align:"center"},{title:"渠道名称",key:"qudao",width:120,align:"center"},{title:"服务号名称",key:"fuwuhao",width:150,align:"center"},{title:"小说平台",key:"platform",width:150,align:"center",render:function(t,e){var i="";return 0==e.row.platform?i="推锐":1==e.row.platform?i="点锐":2==e.row.platform?i="要琪":3==e.row.platform?i="一飞":4==e.row.platform?i="有盟":5==e.row.platform?i="无忧":6==e.row.platform&&(i="袋鼠"),t("div",{props:{}},i)}},{title:"推广链接",key:"url",width:200,align:"center"},{title:"落地页链接",key:"out_url",align:"center"},{title:"Action",key:"action",width:320,align:"center",render:function(e,i){var n=t;return e("div",[e("Button",{style:{marginRight:"10px"},props:{type:"primary",size:"small"},on:{click:function(){n.$router.push({path:"/statistics/index/updateLink",name:"updateLink",params:{prevLinkForm:i.row}})}}},"修改"),e("Button",{style:{marginRight:"10px"},props:{type:"error",size:"small"},on:{click:function(){n.$axios.get("/link/del",{params:{id:i.row._id}}).then(function(t){n.$Message.info("删除成功"),n.indexData.splice(i.index,1)})}}},"删除"),e("Button",{style:{marginRight:"10px"},props:{type:"warning",size:"small"},on:{click:function(){n.dialogModal=!0,n.costForm.url=i.row.url}}},"输入成本"),e("Button",{props:{type:"primary",size:"small"},on:{click:function(){n.$router.push({path:"/statistics/index/dataStatistics",name:"dataStatistics",params:{url:i.row.url}})}}},"查看统计数据")])}}],costForm:{},createtime:null}},mounted:function(){this.showIndexData()},methods:{showIndexData:function(){var t=this;this.$axios.get("/link").then(function(e){t.indexData=e.data.data,t.isLoading=!1})},confirmDate:function(){var t=new Date(this.createtime).getTime();this.costForm.createtime=t},submitCost:function(){var t=this;this.$axios.post("/cost/create",this.costForm).then(function(e){t.$Message.info("成本输入成功")})},cancel:function(){this.$Message.info("Clicked cancel")}},watch:{}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index"},["Index"==t.$route.name?i("div",{staticClass:"index-page"},[i("Button",{staticClass:"create-btn",attrs:{size:"large",type:"success",shape:"circle",to:"/statistics/index/createLink"}},[t._v("\n            新建统计链接\n            "),i("Icon",{attrs:{type:"ios-arrow-forward"}})],1),t._v(" "),i("Table",{staticClass:"index-table",attrs:{stripe:"",columns:t.indexHeader,data:t.indexData,loading:t.isLoading}}),t._v(" "),i("Modal",{attrs:{title:"输入成本"},on:{"on-ok":t.submitCost,"on-cancel":t.cancel},model:{value:t.dialogModal,callback:function(e){t.dialogModal=e},expression:"dialogModal"}},[i("Form",{attrs:{model:t.costForm,"label-width":100}},[i("FormItem",{attrs:{label:"推广链接"}},[i("Input",{staticStyle:{width:"300px"},attrs:{disabled:""},model:{value:t.costForm.url,callback:function(e){t.$set(t.costForm,"url",e)},expression:"costForm.url"}})],1),t._v(" "),i("FormItem",{attrs:{label:"总成本"}},[i("Input",{staticStyle:{width:"300px","margin-top":"10px"},attrs:{placeholder:"输入成本"},model:{value:t.costForm.cost,callback:function(e){t.$set(t.costForm,"cost",e)},expression:"costForm.cost"}})],1),t._v(" "),i("FormItem",{attrs:{label:"记录成本时间"}},[i("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"选择日期和时间"},on:{"on-ok":t.confirmDate},model:{value:t.createtime,callback:function(e){t.createtime=e},expression:"createtime"}})],1)],1)],1)],1):t._e(),t._v(" "),i("router-view")],1)},staticRenderFns:[]};var c=i("VU/8")(s,l,!1,function(t){i("wW8h")},"data-v-13fb4972",null).exports,m={props:{prevLinkForm:Object},data:function(){return{linkForm:{},createtime:null,platform:""}},mounted:function(){this.prevLinkForm&&(this.linkForm=this.prevLinkForm,this.platform=this.linkForm.platform.toString(),this.createtime=new Date(this.linkForm.createtime),this.linkForm.id=this.linkForm._id)},methods:{confirmDate:function(){var t=new Date(this.createtime).getTime();this.linkForm.createtime=t},submitLinkForm:function(){this.linkForm.platform=Number(this.platform);var t=new Date(this.createtime).getTime();this.linkForm.createtime=t,this.$emit("submitLinkForm",this.linkForm),this.linkForm={}},cancel:function(){this.linkForm={},this.$router.push("/statistics")}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"link-common"},[i("Form",{staticClass:"form-cont",attrs:{model:t.linkForm,"label-width":150}},[i("FormItem",{attrs:{label:"创建统计链接的时间"}},[i("DatePicker",{staticStyle:{width:"200px"},attrs:{type:"datetime",placeholder:"选择日期和时间"},on:{"on-ok":t.confirmDate},model:{value:t.createtime,callback:function(e){t.createtime=e},expression:"createtime"}})],1),t._v(" "),i("FormItem",{attrs:{label:"选择小说平台"}},[i("Select",{attrs:{placeholder:"选择小说平台"},model:{value:t.platform,callback:function(e){t.platform=e},expression:"platform"}},[i("Option",{attrs:{value:"6"}},[t._v("袋鼠")])],1)],1),t._v(" "),i("FormItem",{attrs:{label:"小说平台的推广链接"}},[i("Input",{attrs:{placeholder:"输入小说平台的推广链接"},model:{value:t.linkForm.url,callback:function(e){t.$set(t.linkForm,"url",e)},expression:"linkForm.url"}})],1),t._v(" "),i("FormItem",{attrs:{label:"微信外的落地页链接"}},[i("Input",{attrs:{placeholder:"输入微信外的落地页链接"},model:{value:t.linkForm.out_url,callback:function(e){t.$set(t.linkForm,"out_url",e)},expression:"linkForm.out_url"}})],1),t._v(" "),i("FormItem",{attrs:{label:"渠道名称"}},[i("Input",{attrs:{placeholder:"输入渠道名称"},model:{value:t.linkForm.qudao,callback:function(e){t.$set(t.linkForm,"qudao",e)},expression:"linkForm.qudao"}})],1),t._v(" "),i("FormItem",{attrs:{label:"服务号名称"}},[i("Input",{attrs:{placeholder:"输入服务号名称"},model:{value:t.linkForm.fuwuhao,callback:function(e){t.$set(t.linkForm,"fuwuhao",e)},expression:"linkForm.fuwuhao"}})],1),t._v(" "),i("div",{staticClass:"btn-cont"},[i("Button",{attrs:{type:"success"},on:{click:t.submitLinkForm}},[t._v("提交")]),t._v(" "),i("Button",{attrs:{type:"warning"},on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},staticRenderFns:[]};var d=i("VU/8")(m,u,!1,function(t){i("PCBw")},"data-v-e9a2c238",null).exports,p={name:"createLink",components:{linkCommon:d},data:function(){return{}},methods:{createNewLink:function(t){var e=this;this.$axios.post("/link/create",t).then(function(t){console.log(t.data),e.$Message.info("链接创建成功"),window.location.href="/statistics"})}}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"create-link"},[e("link-common",{on:{submitLinkForm:this.createNewLink}})],1)},staticRenderFns:[]},f=i("VU/8")(p,h,!1,null,null,null).exports,k=i("mvHQ"),v=i.n(k),w={name:"updateLink",components:{linkCommon:d},data:function(){return{prevLinkForm:{}}},beforeMount:function(){var t=sessionStorage.getItem("form");t||(t=v()(this.$route.params.prevLinkForm),sessionStorage.setItem("form",t)),this.prevLinkForm=JSON.parse(t),console.log(1,this.prevLinkForm)},methods:{editLink:function(t){var e=this;this.$axios.post("/link/update",t).then(function(t){e.$Message.info("链接修改成功"),window.location.href="/statistics"})}},destroyed:function(){sessionStorage.setItem("form","")}},g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"update-link"},[e("link-common",{attrs:{prevLinkForm:this.prevLinkForm},on:{submitLinkForm:this.editLink}})],1)},staticRenderFns:[]},F=i("VU/8")(w,g,!1,null,null,null).exports,y={data:function(){return{isLoading:!0,dataList:[],dataHeader:[{key:"linktime",title:"创建日期",width:100,align:"center"},{key:"qudao",title:"渠道名称",width:90,align:"center"},{key:"fuwuhao",title:"服务号名称",align:"center"},{key:"platform",title:"小说平台",width:90,align:"center",render:function(t,e){var i="";return 0==e.row.platform?i="推锐":1==e.row.platform?i="点锐":2==e.row.platform?i="要琪":3==e.row.platform?i="一飞":4==e.row.platform?i="有盟":5==e.row.platform?i="无忧":6==e.row.platform&&(i="袋鼠"),t("div",{props:{}},i)}},{key:"uv",title:"百度uv",width:90,align:"center"},{key:"yuedu",title:"累计阅读人数",width:90,align:"center"},{key:"count_pay",title:"付款数量",width:90,align:"center"},{key:"pay_rate",title:"付款率",width:90,align:"center"},{key:"today_money",title:"今日充值金额",width:90,align:"center"},{key:"money",title:"累计充值金额",width:90,align:"center"},{key:"today_cost",title:"今日成本",width:90,align:"center"},{key:"cost",title:"总成本",width:90,align:"center"},{key:"today_back",title:"动态回本率",align:"center"},{key:"back",title:"回本率",width:90,align:"center"}]}},mounted:function(){this.showDataList()},methods:{showDataList:function(){var t=this,e=sessionStorage.getItem("url");e||(e=this.$route.params.url,sessionStorage.setItem("url",this.$route.params.url)),this.$axios.get("/tongji",{params:{url:e}}).then(function(e){t.isLoading=!1,t.dataList=e.data.data})}},destroyed:function(){sessionStorage.setItem("url","")}},x={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("Button",{staticClass:"back-home",attrs:{type:"warning",size:"large",to:"/statistics"}},[this._v("返回首页")]),this._v(" "),e("Table",{staticClass:"data-table",attrs:{columns:this.dataHeader,data:this.dataList,loading:this.isLoading}})],1)},staticRenderFns:[]};var _=i("VU/8")(y,x,!1,function(t){i("jT0c")},"data-v-1bb4d954",null).exports;n.default.use(r.a);var b=new r.a({mode:"history",routes:[{path:"/statistics",redirect:"/statistics/index"},{path:"/statistics/index",name:"Index",component:c,children:[{path:"createLink",name:"createLink",component:f},{path:"updateLink",name:"updateLink",component:F},{path:"dataStatistics",name:"dataStatistics",component:_}]}]}),L=i("BTaQ"),$=i.n(L),I=i("mtWM"),D=i.n(I);i("+skl");n.default.config.productionTip=!1,n.default.prototype.$axios=D.a,n.default.use($.a),new n.default({el:"#app",router:b,components:{App:o},template:"<App/>"})},PCBw:function(t,e){},jT0c:function(t,e){},wW8h:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.30ff5fd43d5f9fda77f8.js.map